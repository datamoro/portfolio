<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpsFlow Analytics | Caio Moro</title>
    <link rel="stylesheet" href="style.css">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body>
    <header>
        <div class="container">
            <nav>
                <div class="logo">
                    <a href="index.html"><span class="code-text">&lt;</span>datamoro<span
                            class="code-text">/&gt;</span></a>
                </div>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="experience.html">Experience</a></li>
                    <li><a href="projects.html" class="active">Projects</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="page-header">
            <div class="container">
                <a href="projects.html" class="back-link"><ion-icon name="arrow-back-outline"></ion-icon> Back to
                    Projects</a>
                <h1 class="page-title animate-fade-in">OpsFlow Analytics</h1>
                <div class="project-impact-large animate-fade-in delay-1">Modern Data Stack & Demand Forecasting</div>
            </div>
        </section>

        <section class="container project-detail-content animate-fade-in delay-2">

            <div class="project-detail-grid">
                <div class="detail-main">
                    <h2>Context & Motivation</h2>
                    <p>Accurate demand forecasting is the backbone of efficient logistics. "OpsFlow Analytics" is a data
                        product designed to transform raw operational data into actionable forecasting insights. I
                        initiated this project to migrate a legacy Python-based forecasting engine into a scalable,
                        <strong>Modern Data Stack</strong> architecture.
                    </p>
                    <p>The goal is to provide a robust, automated foundation for analyzing daily volume, natural growth,
                        and critical operational ratios (like Pickup and Delivery distributions) using BigQuery and dbt.
                    </p>

                    <h2>Architecture: The Modern Data Stack</h2>
                    <p>The core of this project relies on separating <strong>Compute</strong> from
                        <strong>Storage</strong>, leveraging Google BigQuery's serverless architecture orchestrated by
                        dbt (data build tool).
                    </p>

                    <h3>Why dbt with BigQuery?</h3>
                    <p>Unlike traditional ETL scripts that are hard to maintain, this project uses an <strong>ELT
                            (Extract, Load, Transform)</strong> approach:</p>
                    <ul>
                        <li><strong>Stateless Transformation:</strong> dbt compiles SQL models and pushes the
                            computation to BigQuery. There is no "dbt server" handling the data processing; BigQuery
                            does the heavy lifting.</li>
                        <li><strong>Version Control:</strong> Business logic is defined in version-controlled SQL files,
                            not hidden in proprietary tool configurations.</li>
                    </ul>

                    <div class="mermaid"
                        style="margin: 2rem 0; background: rgba(30, 41, 59, 0.5); padding: 1.5rem; border-radius: 12px; border: 1px solid var(--border-color); text-align: center;">
                        graph LR
                        subgraph Raw_Data [Raw Data]
                        A[BigQuery Raw Tables]
                        end
                        subgraph dbt_Transformation [dbt Transformation]
                        direction LR
                        B(Staging Views) --> C(Intermediate Logic)
                        C --> D[Marts / Gold Tables]
                        end
                        subgraph BI [Consumption]
                        D --> E((Metabase / Superset))
                        end
                        A --> B

                        style A fill:#0f172a,stroke:#334155,color:#f8fafc
                        style B fill:#1e293b,stroke:#06b6d4,color:#f8fafc
                        style C fill:#1e293b,stroke:#06b6d4,color:#f8fafc
                        style D fill:#06b6d4,stroke:#fff,color:#0f172a,stroke-width:2px
                        style E fill:#f8fafc,stroke:#333,color:#0f172a
                    </div>

                    <h2>Data Modeling Strategy</h2>
                    <p>I implemented a layered "Medallion" architecture to ensure data quality and reusability:</p>

                    <h3>1. Staging Layer (Bronze)</h3>
                    <p>Lightweight <code>views</code> that abstract the raw data tables. This layer handles renaming and
                        basic type casting without significant transformation. Example:
                        <code>stg_im_arrival_scan</code>.
                    </p>

                    <h3>2. Intermediate Layer (Silver)</h3>
                    <p>This is where the complex business logic lives. I built modular models to calculate specific
                        metrics, such as:</p>
                    <ul>
                        <li><strong>CDC Ratios:</strong> Analyzing production vs. operational capacity.</li>
                        <li><strong>Natural Growth:</strong> Calculating Day-over-Day (DoD) volume changes.</li>
                    </ul>

                    <h3>3. Marts Layer (Gold)</h3>
                    <p>The final consumption layer. These models are <strong>materialized as tables</strong> (physically
                        persisted) in BigQuery to optimize performance and reduce costs for downstream BI tools (like
                        Metabase or Superset).</p>
                    <p><em>Design Choice:</em> Persisting the Gold layer avoids recalculating historical data every time
                        a dashboard is refreshed, significantly reducing query costs.</p>

                    <h2>Future Roadmap</h2>
                    <p>This project is currently in the "Data Engineering" phase. The next sprints will focus on:</p>
                    <li><strong>Orchestration:</strong> Automating the pipeline execution with Airflow or GitHub
                        Actions.</li>
                    </ul>

                    <div class="project-gallery">
                        <h3>Project Gallery & Code</h3>

                        <div class="mermaid"
                            style="margin: 2rem 0; background: rgba(30, 41, 59, 0.5); padding: 1.5rem; border-radius: 12px; border: 1px solid var(--border-color); text-align: center;">
                            graph LR
                            subgraph Raw_Data [Raw Data]
                            A[BigQuery Raw Tables]
                            end
                            subgraph dbt_Transformation [dbt Transformation]
                            direction LR
                            B(Staging Views) --> C(Intermediate Logic)
                            C --> D[Marts / Gold Tables]
                            end
                            subgraph BI [Consumption]
                            D --> E((Metabase / Superset))
                            end
                            A --> B

                            style A fill:#0f172a,stroke:#334155,color:#f8fafc
                            style B fill:#1e293b,stroke:#06b6d4,color:#f8fafc
                            style C fill:#1e293b,stroke:#06b6d4,color:#f8fafc
                            style D fill:#06b6d4,stroke:#fff,color:#0f172a,stroke-width:2px
                            style E fill:#f8fafc,stroke:#333,color:#0f172a
                        </div>

                        <div class="gallery-placeholder" style="margin-top: 1rem; text-align: center;">
                            <p>Explore the complete dbt project code:</p>
                            <a href="https://github.com/datamoro/opsflow-analytics" target="_blank"
                                class="btn btn-outline" style="display: inline-flex; align-items: center; gap: 0.5rem;">
                                <ion-icon name="logo-github"></ion-icon> View on GitHub
                            </a>
                        </div>
                    </div>
                </div>

                <div class="detail-sidebar">
                    <div class="tech-stack-box">
                        <h3>Technologies</h3>
                        <div class="project-tags">
                            <span class="tag">Google BigQuery</span>
                            <span class="tag">dbt Core</span>
                            <span class="tag">SQL</span>
                            <span class="tag">Analytics Engineering</span>
                            <span class="tag">Data Modeling</span>
                        </div>


                    </div>
                </div>
            </div>

        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Caio Moro. All rights reserved.</p>
        </div>
    </footer>

    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'dark', securityLevel: 'loose' });
    </script>
    <script src="script.js"></script>
</body>

</html>